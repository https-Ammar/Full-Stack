const audioList = [
  {
    title: "Ehsan Ali",
    href: "#",
    sources: [
      { src: "../audio/Ihsan.mp3", type: "audio/mpeg" },
      { src: "../audio/Ihsan.mp3", type: "audio/ogg" },
      { src: "../audio/Ihsan.mp3", type: "audio/wav" },
      { src: "../audio/Ihsan.mp3", type: "audio/aac" },
      { src: "../audio/Ihsan.mp3", type: "audio/flac" },
      { src: "../audio/Ihsan.mp3", type: "audio/webm" },
      { src: "../audio/Ihsan.mp3", type: "audio/mp4" },
      { src: "../audio/Ihsan.mp3", type: "audio/midi" },
    ],
  },
  {
    title: "Noor Qnebi",
    href: "#",
    sources: [
      { src: "../audio/Noor.mp3", type: "audio/mpeg" },
      { src: "../audio/Noor.mp3", type: "audio/ogg" },
      { src: "../audio/Noor.mp3", type: "audio/wav" },
      { src: "../audio/Noor.mp3", type: "audio/aac" },
      { src: "../audio/Noor.mp3", type: "audio/flac" },
      { src: "../audio/Noor.mp3", type: "audio/webm" },
      { src: "../audio/Noor.mp3", type: "audio/mp4" },
      { src: "../audio/Noor.mp3", type: "audio/midi" },
    ],
  },
  {
    title: "Mira Abdallah",
    href: "#",
    sources: [
      { src: "../audio/Mera.mp3", type: "audio/mpeg" },
      { src: "../audio/Mera.mp3", type: "audio/ogg" },
      { src: "../audio/Mera.mp3", type: "audio/wav" },
      { src: "../audio/Mera.mp3", type: "audio/aac" },
      { src: "../audio/Mera.mp3", type: "audio/flac" },
      { src: "../audio/Mera.mp3", type: "audio/webm" },
      { src: "../audio/Mera.mp3", type: "audio/mp4" },
      { src: "../audio/Mera.mp3", type: "audio/midi" },
    ],
  },
  {
    title: "Muhammad Naser",
    href: "#",
    sources: [
      { src: "../audio/Naser.mp3", type: "audio/mpeg" },
      { src: "../audio/Naser.mp3", type: "audio/ogg" },
      { src: "../audio/Naser.mp3", type: "audio/wav" },
      { src: "../audio/Naser.mp3", type: "audio/aac" },
      { src: "../audio/Naser.mp3", type: "audio/flac" },
      { src: "../audio/Naser.mp3", type: "audio/webm" },
      { src: "../audio/Naser.mp3", type: "audio/mp4" },
      { src: "../audio/Naser.mp3", type: "audio/midi" },
    ],
  },

  {
    title: "Ahmed Othman",
    href: "#",
    sources: [
      { src: "../audio/Othman.mp3", type: "audio/mpeg" },
      { src: "../audio/Othman.mp3", type: "audio/ogg" },
      { src: "../audio/Othman.mp3", type: "audio/wav" },
      { src: "../audio/Othman.mp3", type: "audio/aac" },
      { src: "../audio/Othman.mp3", type: "audio/flac" },
      { src: "../audio/Othman.mp3", type: "audio/webm" },
      { src: "../audio/Othman.mp3", type: "audio/mp4" },
      { src: "../audio/Othman.mp3", type: "audio/midi" },
    ],
  },

  {
    title: "Saja Fawaz",
    href: "#",
    sources: [
      { src: "../audio/Saja.mp3", type: "audio/mpeg" },
      { src: "../audio/Saja.mp3", type: "audio/ogg" },
      { src: "../audio/Saja.mp3", type: "audio/wav" },
      { src: "../audio/Saja.mp3", type: "audio/aac" },
      { src: "../audio/Saja.mp3", type: "audio/flac" },
      { src: "../audio/Saja.mp3", type: "audio/webm" },
      { src: "../audio/Saja.mp3", type: "audio/mp4" },
      { src: "../audio/Saja.mp3", type: "audio/midi" },
    ],
  },

  {
    title: "Muhamed Samy",
    href: "#",
    sources: [
      { src: "../audio/Sami.mp3", type: "audio/mpeg" },
      { src: "../audio/Sami.mp3", type: "audio/ogg" },
      { src: "../audio/Sami.mp3", type: "audio/wav" },
      { src: "../audio/Sami.mp3", type: "audio/aac" },
      { src: "../audio/Sami.mp3", type: "audio/flac" },
      { src: "../audio/Sami.mp3", type: "audio/webm" },
      { src: "../audio/Sami.mp3", type: "audio/mp4" },
      { src: "../audio/Sami.mp3", type: "audio/midi" },
    ],
  },

  {
    title: "Ahmed Al-Hamaida",
    href: "#",
    sources: [
      { src: "../audio/Hamaida.mp3", type: "audio/mpeg" },
      { src: "../audio/Hamaida.mp3", type: "audio/ogg" },
      { src: "../audio/Hamaida.mp3", type: "audio/wav" },
      { src: "../audio/Hamaida.mp3", type: "audio/aac" },
      { src: "../audio/Hamaida.mp3", type: "audio/flac" },
      { src: "../audio/Hamaida.mp3", type: "audio/webm" },
      { src: "../audio/Hamaida.mp3", type: "audio/mp4" },
      { src: "../audio/Hamaida.mp3", type: "audio/midi" },
    ],
  },

  {
    title: "Ahmed Essam",
    href: "#",
    sources: [
      { src: "../audio/Essam.mp3", type: "audio/mpeg" },
      { src: "../audio/Essam.mp3", type: "audio/ogg" },
      { src: "../audio/Essam.mp3", type: "audio/wav" },
      { src: "../audio/Essam.mp3", type: "audio/aac" },
      { src: "../audio/Essam.mp3", type: "audio/flac" },
      { src: "../audio/Essam.mp3", type: "audio/webm" },
      { src: "../audio/Essam.mp3", type: "audio/mp4" },
      { src: "../audio/Essam.mp3", type: "audio/midi" },
    ],
  },

  {
    title: "Heba Gamal",
    href: "#",
    sources: [
      { src: "../audio/Heba.mp3", type: "audio/mpeg" },
      { src: "../audio/Heba.mp3", type: "audio/ogg" },
      { src: "../audio/Heba.mp3", type: "audio/wav" },
      { src: "../audio/Heba.mp3", type: "audio/aac" },
      { src: "../audio/Heba.mp3", type: "audio/flac" },
      { src: "../audio/Heba.mp3", type: "audio/webm" },
      { src: "../audio/Heba.mp3", type: "audio/mp4" },
      { src: "../audio/Heba.mp3", type: "audio/midi" },
    ],
  },
];

const container = document.getElementById("audio-list");

const playIcon = `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
  <path d="M8 5v14l11-7z"/>
</svg>`;

const pauseIcon = `
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24">
  <path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/>
</svg>`;

let currentAudio = null;
let currentButton = null;

function resetCurrentAudio() {
  if (currentButton) {
    currentButton.innerHTML = playIcon;
    currentButton.classList.remove("pause");
  }
  currentAudio = null;
  currentButton = null;
}

audioList.forEach(({ title, href, sources }) => {
  const li = document.createElement("li");
  li.className = "audio-player";

  const audio = document.createElement("audio");
  audio.preload = "none";
  audio.controls = false;
  sources.forEach(({ src, type }) => {
    const source = document.createElement("source");
    source.src = src;
    source.type = type;
    audio.appendChild(source);
  });

  const link = document.createElement("a");
  link.href = href;
  link.textContent = title;

  const playBtn = document.createElement("span");
  playBtn.className = "play-btn";
  playBtn.innerHTML = playIcon;

  playBtn.addEventListener("click", () => {
    if (audio === currentAudio) {
      if (audio.paused) {
        audio.play();
        playBtn.innerHTML = pauseIcon;
        playBtn.classList.add("pause");
      } else {
        audio.pause();
        resetCurrentAudio();
      }
    } else {
      if (currentAudio) currentAudio.pause();
      resetCurrentAudio();
      audio.play();
      playBtn.innerHTML = pauseIcon;
      playBtn.classList.add("pause");
      currentAudio = audio;
      currentButton = playBtn;
    }
  });

  audio.addEventListener("ended", resetCurrentAudio);

  li.append(audio, link, playBtn);
  container.appendChild(li);
});
